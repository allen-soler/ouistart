<!DOCTYPE html>
<html id="fixH" class="sky" lang="fr">
	<head>
		<title>Carte de voeux</title>
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="dist/css/lightbox.min.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
	</head>
	<body>
		<canvas class="snowWrap"></canvas>
		<div id="snow"></div>
		<div class="color"></div>
		<main id="wrap">
		<div id="head">
			<p>"Parfois nos vies ont besoin d’être chamboulées, changées et réorganisées pour nous replacer à l’endroit où nous sommes censés être"</p>
			<h1>Joyeux Noël & Bonne Année</h1>
			<p>Toute notre équipe vous souhaite une bonne année pleine
			de découvertes, de richesses et de vitalité.</p>
			<p>Prenez ce dont vous avez besoin pour cette nouvelle année.</p>
		</div>
		<div class="flex-container">
			<div class="column left" id="leftB"></div>
			<div class="column bg-alt right" id="rightH">
				<a id="1" class="classOfLink" href="img/joie.jpg" data-lightbox="example-1" >Joie</a>
				<a id="2" class="classOfLink" href="img/paix.jpg" data-lightbox="example-2" >Paix</a>
				<a id="3" class="classOfLink" href="img/magie.jpg" data-lightbox="example-3" >Magie</a>
				<a id="4" class="classOfLink" href="img/bienveillance.jpg" data-lightbox="example-4" >Bienveillance</a>
				<a id="5" class="classOfLink" href="img/courage.jpg" data-lightbox="example-5" >Courage</a>
				<a id="6" class="classOfLink" href="img/amour.jpg" data-lightbox="example-6" >Amour</a>
			</div>
		</div>
		</main>
		<script src="dist/js/lightbox-plus-jquery.min.js"></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="js/js.js"></script>
		<script>
			var id_h,
				cnt = 0,
				old;

			var clickedId;
			$(".classOfLink").click(function()
				{
					clickedId = $(this).attr("id");
					id_h = document.getElementById(clickedId);
					id_h.style.display = "none";
					cnt++;
					if (cnt == 6)
					{
						document.getElementById("rightH").style.display ="none";
						document.getElementById("leftB").style.width = "100%";
						document.getElementById("leftB").style.height = "auto";
					}
				});

			var y = 5,
				on = 0,
				win = window,
				doc = document,
				docElem = doc.documentElement,
				body = doc.getElementsByTagName('body')[0],
				y = win.innerHeight|| docElem.clientHeight|| body.clientHeight;

			y = y + 'px';

			document.getElementById('fixH').style.height = y;

			(function () {

				var COUNT = 300;
				var masthead = document.querySelector('.sky');
				var canvas = document.createElement('canvas');
				var ctx = canvas.getContext('2d');
				var width = masthead.clientWidth;
				var height = masthead.clientHeight;
				var i = 0;
				var active = false;

				function onResize() {
					width = masthead.clientWidth;
					height = masthead.clientHeight;
					canvas.width = width;
					canvas.height = height;
					ctx.fillStyle = 'snow';

					var wasActive = active;
					active = width > 600;

					if (!wasActive && active)
						requestAnimFrame(update);
				}

				var Snowflake = function () {
					this.x = 0;
					this.y = 0;
					this.vy = 0;
					this.vx = 0;
					this.r = 0;

					this.reset();
				}

				Snowflake.prototype.reset = function() {
					this.x = Math.random() * width;
					this.y = Math.random() * -height;
					this.vy = 1 + Math.random() * 3;
					this.vx = 0.5 - Math.random();
					this.r = 1 + Math.random() * 2;
					this.o = 0.5 + Math.random() * 0.5;
				}

				canvas.style.position = 'absolute';
				canvas.style.left = canvas.style.top = '0';

				var snowflakes = [], snowflake;
				for (i = 0; i < COUNT; i++) {
					snowflake = new Snowflake();
					snowflake.reset();
					snowflakes.push(snowflake);
				}

				function update() {

					ctx.clearRect(0, 0, width, height);

					if (!active)
						return;

					for (i = 0; i < COUNT; i++) {
						snowflake = snowflakes[i];
						snowflake.y += snowflake.vy;
						snowflake.x += snowflake.vx;

						ctx.globalAlpha = snowflake.o;
						ctx.beginPath();
						ctx.arc(snowflake.x, snowflake.y, snowflake.r, 0, Math.PI * 2, false);
						ctx.closePath();
						ctx.fill();

						if (snowflake.y > height) {
							snowflake.reset();
						}
					}

					requestAnimFrame(update);
				}

				// shim layer with setTimeout fallback
				window.requestAnimFrame = (function(){
					return  window.requestAnimationFrame       ||
						window.webkitRequestAnimationFrame ||
						window.mozRequestAnimationFrame    ||
						function( callback ){
							window.setTimeout(callback, 1000 / 60);
						};
				})();

				onResize();
				window.addEventListener('resize', onResize, false);

				masthead.appendChild(canvas);
			})();
		</script>
	</body>
</html>
