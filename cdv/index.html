<!DOCTYPE html>
<html id="fixH" class="sky">
	<head>
		<title>Carte de voeux</title>
		<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Mountains+of+Christmas" />
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="dist/css/lightbox.min.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
	</head>
	<body>
		<canvas class="snowWrap"></canvas>
		<div id="snow"></div>
		<div class="color"></div>
		<main id="wrap">
		<div id="head">
			<p>"Parfois nos vies ont besoin d’être chamboulées, changées et réorganisées pour nous replacer à l’endroit où nous sommes censés être"</p>
			<h1>Joyeux Noël & Bonne Année</h1>
			<p>Toute notre équipe vous souhaite une bonne année pleine
			de découvertes, de richesses et de vitalité.</p>
			<p>Prenez ce dont vous avez besoin pour cette nouvelle année.</p>
		</div>
		<div class="flex-container">
			<div class="column left" id="leftB"></div>
			<div class="column bg-alt right" id="rightH">
				<a id="1" class="classOfLink" href="img/joie.jpg" data-lightbox="example-1" >Joie</a>
				<a id="2" class="classOfLink" href="img/paix.jpg" data-lightbox="example-2" >Paix</a>
				<a id="3" class="classOfLink" href="img/magie.jpg" data-lightbox="example-3" >Magie</a>
				<a id="4" class="classOfLink" href="img/bienveillance.jpg" data-lightbox="example-4" >Bienveillance</a>
				<a id="5" class="classOfLink" href="img/courage.jpg" data-lightbox="example-5" >Courage</a>
				<a id="6" class="classOfLink" href="img/amour.jpg" data-lightbox="example-6" >Amour</a>
			</div>
		</div>
		</main>
		<script src="dist/js/lightbox-plus-jquery.min.js"></script>
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script type="text/babel">
			'use strict'

const canvas = document.querySelector('canvas.snowWrap')
const ctx = canvas.getContext('2d')

let width, height, lastNow
let snowflakes
const maxSnowflakes = 100

function init() {
  snowflakes = []
  resize()
  render(lastNow = performance.now())
}

function render(now) {
  requestAnimationFrame(render)

  const elapsed = now - lastNow
  lastNow = now

  ctx.clearRect(0, 0, width, height)
  if (snowflakes.length < maxSnowflakes)
	snowflakes.push(new Snowflake())

  ctx.fillStyle = ctx.strokeStyle = '#FFD700'

  snowflakes.forEach(snowflake => snowflake.update(elapsed, now))
}

function pause() {
  cancelAnimationFrame(render)
}
function resume() {
  lastNow = performance.now()
  requestAnimationFrame(render)
}


class Snowflake {
  constructor() {
	this.spawn()
  }

  spawn(anyY = false) {
	this.x = rand(0, width)
	this.y = anyY === true
	  ? rand(-50, height + 50)
	  : rand(-50, -10)
	this.xVel = rand(-.05, .05)
	this.yVel = rand(.02, .1)
	this.angle = rand(0, Math.PI * 2)
	this.angleVel = rand(-.001, .001)
	this.size = rand(7, 12)
	this.sizeOsc = rand(.01, .5)
  }

  update(elapsed, now) {
	const xForce = rand(-.001, .001);

	if (Math.abs(this.xVel + xForce) < .075) {
	  this.xVel += xForce
	}

	this.x += this.xVel * elapsed
	this.y += this.yVel * elapsed
	this.angle += this.xVel * 0.05 * elapsed //this.angleVel * elapsed

	if (
	  this.y - this.size > height ||
	  this.x + this.size < 0 ||
	  this.x - this.size > width
	) {
	  this.spawn()
	}

	this.render()
  }

  render() {
	ctx.save()
	const { x, y, angle, size } = this
	ctx.beginPath()
	ctx.arc(x, y, size * 0.2, 0, Math.PI * 2, false)
	ctx.fill()
	ctx.restore()
  }
}

// Utils
const rand = (min, max) => min + Math.random() * (max - min)

function resize() {
  width = canvas.width = window.innerWidth
  height = canvas.height = window.innerHeight
}

window.addEventListener('resize', resize)
window.addEventListener('blur', pause)
window.addEventListener('focus', resume)
init()


		</script>
		<script>
			var id_h,
				cnt = 0;

			var clickedId;
			$(".classOfLink").click(function()
				{
					clickedId = $(this).attr("id");
					id_h = document.getElementById(clickedId);
					id_h.style.display = "none";
					cnt++;
					if (cnt == 6)
					{
						console.log(cnt);
						document.getElementById("rightH").style.display ="none";
						document.getElementById("leftB").style.width = "100%";
						document.getElementById("leftB").style.height = "auto";
					}
				});

			var y = 5,
				on = 0,
				win = window,
				doc = document,
				docElem = doc.documentElement,
				body = doc.getElementsByTagName('body')[0],
				y = win.innerHeight|| docElem.clientHeight|| body.clientHeight;

			y = y + 'px';

			document.getElementById('fixH').style.height = y;

			(function () {

				var COUNT = 300;
				var masthead = document.querySelector('.sky');
				var canvas = document.createElement('canvas');
				var ctx = canvas.getContext('2d');
				var width = masthead.clientWidth;
				var height = masthead.clientHeight;
				var i = 0;
				var active = false;

				function onResize() {
					width = masthead.clientWidth;
					height = masthead.clientHeight;
					canvas.width = width;
					canvas.height = height;
					ctx.fillStyle = 'snow';

					var wasActive = active;
					active = width > 600;

					if (!wasActive && active)
						requestAnimFrame(update);
				}

				var Snowflake = function () {
					this.x = 0;
					this.y = 0;
					this.vy = 0;
					this.vx = 0;
					this.r = 0;

					this.reset();
				}

				Snowflake.prototype.reset = function() {
					this.x = Math.random() * width;
					this.y = Math.random() * -height;
					this.vy = 1 + Math.random() * 3;
					this.vx = 0.5 - Math.random();
					this.r = 1 + Math.random() * 2;
					this.o = 0.5 + Math.random() * 0.5;
				}

				canvas.style.position = 'absolute';
				canvas.style.left = canvas.style.top = '0';

				var snowflakes = [], snowflake;
				for (i = 0; i < COUNT; i++) {
					snowflake = new Snowflake();
					snowflake.reset();
					snowflakes.push(snowflake);
				}

				function update() {

					ctx.clearRect(0, 0, width, height);

					if (!active)
						return;

					for (i = 0; i < COUNT; i++) {
						snowflake = snowflakes[i];
						snowflake.y += snowflake.vy;
						snowflake.x += snowflake.vx;

						ctx.globalAlpha = snowflake.o;
						ctx.beginPath();
						ctx.arc(snowflake.x, snowflake.y, snowflake.r, 0, Math.PI * 2, false);
						ctx.closePath();
						ctx.fill();

						if (snowflake.y > height) {
							snowflake.reset();
						}
					}

					requestAnimFrame(update);
				}

				// shim layer with setTimeout fallback
				window.requestAnimFrame = (function(){
					return  window.requestAnimationFrame       ||
						window.webkitRequestAnimationFrame ||
						window.mozRequestAnimationFrame    ||
						function( callback ){
							window.setTimeout(callback, 1000 / 60);
						};
				})();

				onResize();
				window.addEventListener('resize', onResize, false);

				masthead.appendChild(canvas);
			})();
		</script>
	</body>
</html>
